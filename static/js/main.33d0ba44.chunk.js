(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var o,c=n(0),i=n(39),r=n.n(i),u=(n(46),n(3)),a=(n(47),n(1)),s=Object(c.createContext)([void 0,void 0]),d=function(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),o=n[0],i=n[1];return Object(a.jsx)(s.Provider,{value:[o,i],children:e.children})},b=function(){var e=Object(c.useContext)(s),t=Object(u.a)(e,2),n=(t[0],t[1]);return n?Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:function(){return n("head")},children:"Head"}),Object(a.jsx)("button",{onClick:function(){return n("torso")},children:"Torso"}),Object(a.jsx)("button",{onClick:function(){return n("leg")},children:"Legs"})]}):Object(a.jsx)(a.Fragment,{})},j=n(15),O=n(40),f=n.n(O),l=n(41),h=n.n(l),v=n(102),x=(o={},Object(j.a)(o,1,"head"),Object(j.a)(o,2,"torso"),Object(j.a)(o,3,"leg"),o),C=function(e){var t=Object(c.useState)(0),n=Object(u.a)(t,2),o=n[0],i=n[1],r=function(){var e=Object(c.useState)({width:void 0,height:void 0}),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),s=r.width,d=(r.height,Object(c.useState)(0)),b=Object(u.a)(d,2),j=b[0],O=b[1],l=Object(c.useState)(!1),C=Object(u.a)(l,2),p=C[0],w=C[1],g=Object(c.useState)("Not connected."),m=Object(u.a)(g,2),M=m[0],k=m[1],S=Object(c.useState)(!1),E=Object(u.a)(S,2),y=E[0],I=E[1],z=null!==s&&void 0!==s?s:1920,L=Object(c.useMemo)((function(){for(var t=[],n=0;n<e.boxCount;n++)t.push(Object(a.jsx)("img",{src:"videos/".concat(e.videoMode,"/frames/").concat(n+1,".png")}));return t}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){o<j&&p?i(o+1):w(!1)}),200);return function(){return clearInterval(e)}}));var H=Object(v.a)(y,500),J=Object(u.a)(H,1)[0];Object(c.useEffect)((function(){console.log(J),J&&(I(!1),N())}),[J]);var N=Object(c.useCallback)((function(){var t,n;O(j+(t=5,n=Math.min(12,e.boxCount),Math.floor(Math.random()*(n-t)+t))),w(!0)}),[e.videoMode,j]),_=(Object(c.useMemo)((function(){return j}),[j]),function(t){x[t]===e.videoMode&&I(!0)});return Object(c.useEffect)((function(){var e=h()("ws://".concat("10.182.114.48",":5000"),{withCredentials:!1,auth:void 0});e.on("connect",(function(){return k("Connection Succeeded")})),e.on("connect_failed",(function(){k("Connection failed")})),e.on("input_event",_)}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:M}),Object(a.jsxs)("div",{children:[L.map((function(t,n){return Object(a.jsx)("div",{className:"box",style:{position:"fixed",background:"white",display:p&&Math.abs(o%e.boxCount-n)<=2?"block":"none",left:o%e.boxCount===n?0:o%e.boxCount===n+1?-z:z,zIndex:e.boxCount-n+100},children:t},n)})),Object(a.jsx)(f.a,{url:"videos/".concat(e.videoMode,"/").concat(j%e.boxCount+1,".mp4"),playing:!0,width:"100vw",height:"100vh",loop:!0,style:{zIndex:1},volume:0})]}),Object(a.jsx)("button",{onClick:function(){N()},style:{position:"fixed",top:500},children:"Spin"})]})},p={head:24,torso:41,leg:37},w=function(){var e=Object(c.useContext)(s),t=Object(u.a)(e,1)[0];return void 0===t?Object(a.jsx)(b,{}):Object(a.jsx)(C,{boxCount:p[t],videoMode:t})};r.a.render(Object(a.jsx)(d,{children:Object(a.jsx)(w,{})}),document.getElementById("root"))},46:function(e,t,n){},47:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.33d0ba44.chunk.js.map